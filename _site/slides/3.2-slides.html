<!DOCTYPE html>
<html lang="en"><head>
<script src="3.2-slides_files/libs/clipboard/clipboard.min.js"></script>
<script src="3.2-slides_files/libs/quarto-html/tabby.min.js"></script>
<script src="3.2-slides_files/libs/quarto-html/popper.min.js"></script>
<script src="3.2-slides_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="3.2-slides_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="3.2-slides_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="3.2-slides_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.0.37">

  <title>slides</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="3.2-slides_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="3.2-slides_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="3.2-slides_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="3.2-slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="3.2-slides_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="3.2-slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="3.2-slides_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="3.2-slides_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="3.2-slides_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  
  <link href="3.2-slides_files/libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
  <script src="3.2-slides_files/libs/pagedtable-1.1/js/pagedtable.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section id="section" class="slide level2" data-menu-title="Title Slide" data-background-image="images/metrics_title_slide.png">
<h2></h2>
<p><span class="custom-title">3.2 — DAGs</span></p>
<p><span class="custom-subtitle">ECON 480 • Econometrics • Fall 2022</span></p>
<p><span class="custom-author">Dr.&nbsp;Ryan Safner <br> Associate Professor of Economics</span></p>
<p><span class="custom-institution"><a href="mailto:safner@hood.edu"><i class="fa fa-paper-plane fa-fw"></i>safner@hood.edu</a> <br> <a href="https://github.com/ryansafner/metricsF22"><i class="fa fa-github fa-fw"></i>ryansafner/metricsF22</a><br> <a href="https://metricsF22.classes.ryansafner.com"> <i class="fa fa-globe fa-fw"></i>metricsF22.classes.ryansafner.com</a><br></span></p>
</section>
<section id="contents" class="slide level2" data-background-color="#314f4f">
<h2>Contents</h2>
<p><a href="#/causation-and-correlation">Causation and Correlation</a></p>
<p><a href="#/causal-diagrams">Causal Diagrams</a></p>
<p><a href="#/dag-rules">DAG Rules</a></p>
</section>
<section>
<section id="causation-and-correlation" class="title-slide slide level1 centered center" data-background-color="#314f4f">
<h1>Causation and Correlation</h1>

</section>
<section id="you-dont-need-an-rct-to-talk-about-causality" class="slide level2">
<h2>You Don’t Need an RCT to Talk About Causality</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Statistics profession is obstinant that we cannot say anything about causality</p></li>
<li><p>But you have to! It’s how the human brain works!</p></li>
<li><p>We can’t conceive of (spurious) correlation without some causation</p></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/causation.jpg"></p>
</div>
</div>
</section>
<section id="the-causal-revolution" class="slide level2">
<h2>The Causal Revolution</h2>

<img data-src="images/causaltwitter.png" class="r-stretch quarto-figure-center"></section>
<section id="rcts-and-evidence-based-policy" class="slide level2">
<h2>RCTs and Evidence-Based Policy</h2>
<p><span class="hi-purple">Should we <em>ONLY</em> base policies on the evidence from Randomized Controlled Trials</span></p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<blockquote class="twitter-tweet">
<p lang="en" dir="ltr">
|￣￣￣￣￣￣￣￣￣￣|<br> IF U DONT SMOKE,<br> U ALREADY <br> BELIEVE IN<br> CAUSAL INFERENCE<br> WITHOUT<br> RANDOMIZED TRIALS<br>|＿＿＿＿＿＿＿＿＿＿| <br> (__/) ||<br> (•ㅅ•) ||<br> / 　 づ<a href="https://twitter.com/hashtag/HistorianSignBunny?src=hash&amp;ref_src=twsrc%5Etfw">#HistorianSignBunny</a> <a href="https://twitter.com/hashtag/Epidemiology?src=hash&amp;ref_src=twsrc%5Etfw">#Epidemiology</a>
</p>
— Ellie Murray (<span class="citation" data-cites="EpiEllie">@EpiEllie</span>) <a href="https://twitter.com/EpiEllie/status/1017622949799571456?ref_src=twsrc%5Etfw">July 13, 2018</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div><div class="column" style="width:50%;">
<p>Source: <a href="https://www.bmj.com/content/363/bmj.k5094">British Medical Journal</a></p>
<p><img data-src="images/rctparachutesstudy.png"></p>
</div>
</div>
</div>
</section>
<section id="rcts-and-evidence-based-policy-ii" class="slide level2">
<h2>RCTs and Evidence-Based Policy II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/rctparachutes1.jpg" width="600"></p>
</figure>
</div>
</div><div class="column" style="width:50%;">

</div>
</div>
</section>
<section id="rcts-and-evidence-based-policy-ii-1" class="slide level2">
<h2>RCTs and Evidence-Based Policy II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/rctparachutes1.jpg" width="600"></p>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/rctparachutes2.jpg" width="600"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="correlation-vs.-causation-i" class="slide level2">
<h2>Correlation vs.&nbsp;Causation I</h2>
<blockquote class="twitter-tweet">
<p lang="en" dir="ltr">
"Correlation implies casuation," the dean whispered as he handed me my PhD.<br><br>"But then why-"<br><br>"Because if they knew, they wouldn't need us."
</p>
— David Robinson (<span class="citation" data-cites="drob">@drob</span>) <a href="https://twitter.com/drob/status/877976063942512640?ref_src=twsrc%5Etfw">June 22, 2017</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</section>
<section id="what-does-causation-mean" class="slide level2">
<h2>What Does Causation Mean?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><span class="hi-turquoise">“Correlation does not imply causation”</span>
<ul>
<li>this is exactly backwards!</li>
<li>this is just pointing out that <span class="hi-purple">exogeneity is violated</span></li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/causation.jpg"></p>
</div>
</div>
</section>
<section id="what-does-causation-mean-1" class="slide level2">
<h2>What Does Causation Mean?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><span class="hi-turquoise">“Correlation does not imply causation”</span>
<ul>
<li>this is exactly backwards!</li>
<li>this is just pointing out that <span class="hi-purple">exogeneity is violated</span></li>
</ul></li>
<li><span class="hi">“Correlation implies causation”</span>
<ul>
<li>for an association, there must be <em>some</em> causal chain that relates <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span></li>
<li>but not necessarily <em>merely</em> <span class="math inline">\(X \rightarrow Y\)</span></li>
</ul></li>
<li><span class="hi">“Correlation plus exogeneity is causation.”</span></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/causation.jpg"></p>
</div>
</div>
</section>
<section id="correlation-and-causation" class="slide level2">
<h2>Correlation and Causation</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><span class="hi-purple">Correlation:</span>
<ul>
<li>Math &amp; Statistics</li>
<li>Computers, AI, Machine learning can figure this out (better than humans)</li>
</ul></li>
<li><span class="hi-purple">Causation:</span>
<ul>
<li>Philosophy, Intuition, Theory</li>
<li><span class="hi">Counterfactual thinking</span>, unique to humans (vs.&nbsp;animals or computers)</li>
<li>Computers <u><em>cannot</em></u> (yet) figure this out</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/causation.jpg"></p>
</div>
</div>
</section>
<section id="the-causal-revolution-1" class="slide level2">
<h2>The Causal Revolution</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="images/bookofwhy.jpg"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="images/judea-pearl.jpg"></p>
</div>
</div>
</section>
<section id="causation-requires-counterfactual-thinking" class="slide level2">
<h2>Causation Requires Counterfactual Thinking</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/ladderofcausation.png" width="550"></p>
</figure>
</div>
</div><div class="column" style="width:50%;">
<p><img data-src="images/bookofwhy.jpg"></p>
</div>
</div>
</section>
<section id="section-1" class="slide level2">
<h2></h2>

<img data-src="images/twopaths.jpg" class="r-stretch"></section>
<section id="causal-inference" class="slide level2">
<h2>Causal Inference</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>We will seek to understand what causality <em>is</em> and how we can approach finding it</p></li>
<li><p>We will also explore the different common <span class="hi">research designs</span> meant to <span class="hi-purple">identify</span> causal relationships</p></li>
<li><p><strong>These skills</strong>, more than supply &amp; demand, constrained optimization models, ISLM, etc, <strong>are the tools and comparative advantage of a modern research economist</strong></p>
<ul>
<li>Why all big companies (especially in tech) have entire economics departments in them</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/coding.jpeg"></p>
</div>
</div>
</section>
<section id="the-credibility-revolution-in-econometrics" class="slide level2">
<h2>“The Credibility Revolution” in Econometrics</h2>
<div class="columns">
<div class="column" style="width:50%;">
<blockquote class="twitter-tweet">
<p lang="en" dir="ltr">
BREAKING NEWS: <br>The 2021 Sveriges Riksbank Prize in Economic Sciences in Memory of Alfred Nobel has been awarded with one half to David Card and the other half jointly to Joshua D. Angrist and Guido W. Imbens.<a href="https://twitter.com/hashtag/NobelPrize?src=hash&amp;ref_src=twsrc%5Etfw">#NobelPrize</a> <a href="https://t.co/nkMjWai4Gn">pic.twitter.com/nkMjWai4Gn</a>
</p>
— The Nobel Prize (<span class="citation" data-cites="NobelPrize">@NobelPrize</span>) <a href="https://twitter.com/NobelPrize/status/1447502041467793408?ref_src=twsrc%5Etfw">October 11, 2021</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>]</p>
</div><div class="column" style="width:50%;">
<ul>
<li><p>Simultaneous <span class="hi">“credibility revolution”</span> in econometrics (c.1990s—2000s)</p></li>
<li><p>Use clever research designs to approximate <span class="hi-purple">natural experiments</span></p></li>
<li><p>Note: major disagreements between Pearl &amp; Angrist/Imbens, etc.!</p></li>
</ul>
</div>
</div>
</section>
<section id="clever-research-designs-identify-causality" class="slide level2">
<h2>Clever Research Designs Identify Causality</h2>

<img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-2-1.png" width="1536" class="r-stretch quarto-figure-center"></section>
<section id="correlation-and-causation-1" class="slide level2">
<h2>Correlation and Causation</h2>
<blockquote class="twitter-tweet">
<p lang="en" dir="ltr">
Causality isn't achieved; it's approached.
</p>
— John B. Holbein (<span class="citation" data-cites="JohnHolbein1">@JohnHolbein1</span>) <a href="https://twitter.com/JohnHolbein1/status/982635508089180161?ref_src=twsrc%5Etfw">April 7, 2018</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</section>
<section id="what-then-is-causation" class="slide level2">
<h2>What Then IS Causation?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><span class="math inline">\(X\)</span> causes <span class="math inline">\(Y\)</span> if we can intervene and change <span class="math inline">\(X\)</span> without changing anything else, and <span class="math inline">\(Y\)</span> changes</li>
<li><span class="math inline">\(Y\)</span> “listens to” <span class="math inline">\(X\)</span>
<ul>
<li><span class="math inline">\(X\)</span> may not be the only thing that causes <span class="math inline">\(Y\)</span>!</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/lightswitch.jpg"></p>
</div>
</div>
</section>
<section id="what-then-is-causation-1" class="slide level2">
<h2>What Then IS Causation?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><span class="math inline">\(X\)</span> causes <span class="math inline">\(Y\)</span> if we can intervene and change <span class="math inline">\(X\)</span> without changing anything else, and <span class="math inline">\(Y\)</span> changes</li>
<li><span class="math inline">\(Y\)</span> “listens to” <span class="math inline">\(X\)</span>
<ul>
<li><span class="math inline">\(X\)</span> may not be the only thing that causes <span class="math inline">\(Y\)</span>!</li>
</ul></li>
</ul>
<div class="callout callout-tip no-icon callout-captioned callout-style-simple">
<div class="callout-body">
<div class="callout-caption">
<p><strong>Example</strong></p>
</div>
<div class="callout-content">
<p>If <span class="math inline">\(X\)</span> is a light switch, and <span class="math inline">\(Y\)</span> is a light:</p>
<ul>
<li>Flipping the switch <span class="math inline">\((X)\)</span> causes the light to go on <span class="math inline">\((Y)\)</span></li>
<li>But NOT if the light is burnt out (No <span class="math inline">\(Y\)</span> despite <span class="math inline">\(X\)</span>)</li>
<li>OR if the light was already on <span class="math inline">\((Y\)</span> without <span class="math inline">\(X\)</span>)</li>
</ul>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><img data-src="images/lightswitch.jpg"></p>
</div>
</div>
</section>
<section id="non-causal-claims" class="slide level2">
<h2>Non-Causal Claims</h2>
<ul>
<li>All of the following have non-zero correlations. Are they <em>causal</em>?</li>
</ul>
<div class="callout callout-tip no-icon callout-captioned callout-style-simple">
<div class="callout-body">
<div class="callout-caption">
<p><strong>Examples</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Greater ice cream sales <span class="math inline">\(\rightarrow\)</span> more violent crime</li>
<li>Rooster crows <span class="math inline">\(\rightarrow\)</span> the sun rises in the morning</li>
<li>Taking Vitamin C <span class="math inline">\(\rightarrow\)</span> colds go away a few days later</li>
<li>Political party <span class="math inline">\(X\)</span> in power <span class="math inline">\(\rightarrow\)</span> economy performs better/worse</li>
</ul>
</div>
</div>
</div>
</section>
<section id="counterfactuals" class="slide level2">
<h2>Counterfactuals</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>The <em>sine qua non</em> of causal claims are <span class="hi">counterfactuals</span>: what would <span class="math inline">\(Y\)</span> have been if <span class="math inline">\(X\)</span> had been different?</p></li>
<li><p>It is <strong>impossible</strong> to make a counterfactual claim from data alone!</p></li>
<li><p>Need a (theoretical) <span class="hi-purple">causal model</span> of the data-generating process!</p></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/twopaths.jpg"></p>
</div>
</div>
</section>
<section id="counterfactuals-and-rcts" class="slide level2">
<h2>Counterfactuals and RCTs</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Again, RCTs are invoked as the gold standard for their ability to make counterfactual claims:</p></li>
<li><p>Treatment/intervention <span class="math inline">\((X)\)</span> is <strong>randomly assigned</strong> to individuals</p></li>
</ul>
<blockquote>
<p>If person i who recieved treatment <em>had not recieved</em> the treatment, we can predict what his outcome <em>would have been</em></p>
</blockquote>
<blockquote>
<p>If person j who did not recieve treatment <em>had recieved treatment</em>, we can predict what her outcome <em>would have been</em></p>
</blockquote>
<ul>
<li>We can say this because, on average, treatment and control groups are <em>the same before treatment</em></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/twopaths.jpg"></p>
</div>
</div>
</section>
<section id="from-rcts-to-causal-models" class="slide level2">
<h2>From RCTs to Causal Models</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>RCTs are but the best-known method of a large, growing science of <span class="hi">causal inference</span></p></li>
<li><p>We need a <span class="hi">causal model</span> to describe the <span class="hi">data-generating process (DGP)</span></p></li>
<li><p>Requires us to make some <span class="hi-purple">assumptions</span></p></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/twopaths.jpg"></p>
</div>
</div>
</section></section>
<section>
<section id="causal-diagrams" class="title-slide slide level1 centered center" data-background-color="#314f4f">
<h1>Causal Diagrams</h1>

</section>
<section id="causal-diagramsdags" class="slide level2">
<h2>Causal Diagrams/DAGs</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>A surprisingly simple, yet rigorous and powerful method of modeling is using a <span class="hi">causal diagram</span> or <span class="hi">DAG</span>:
<ul>
<li><span class="hi">Directed</span>: Each node has arrows that points only one direction</li>
<li><span class="hi">Acyclic</span>: Arrows only have one direction, and cannot loop back</li>
<li><span class="hi">Graph</span></li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-3-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="causal-diagramsdags-1" class="slide level2">
<h2>Causal Diagrams/DAGs</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>A visual model of the data-generating process, encodes our understanding of the causal relationships</p></li>
<li><p>Requires some common sense/economic intuition</p></li>
<li><p>Remember, all models are wrong, we just need them to be <em>useful</em>!</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-4-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="causal-diagramsdags-2" class="slide level2">
<h2>Causal Diagrams/DAGs</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Our light switch example of causality</li>
</ul>
<p><img data-src="images/lightswitch.jpg"></p>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-5-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="drawing-a-dag-example" class="slide level2">
<h2>Drawing a DAG: Example</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Suppose we have data on three variables</p>
<ul>
<li><code>IP</code>: how much a firm spends on IP lawsuits</li>
<li><code>tech</code>: whether a firm is in tech industry</li>
<li><code>profit</code>: firm profits</li>
</ul></li>
<li><p>They are all correlated with each other, but what’s are the causal relationships?</p></li>
<li><p>We need our own <span class="hi-purple">causal model</span> (from theory, intuition, etc) to sort</p>
<ul>
<li>Data alone will not tell us!</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center" data-outwidth="90%">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-6-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="drawing-a-dag" class="slide level2">
<h2>Drawing a DAG</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ol type="1">
<li><p>Consider all the variables likely to be important to the data-generating process (including variables we can’t observe!)</p></li>
<li><p>For simplicity, combine some similar ones together or prune those that aren’t very important</p></li>
<li><p>Consider which variables are likely to affect others, and draw arrows connecting them</p></li>
<li><p>Test some testable implications of the model (to see if we have a correct one!)</p></li>
</ol>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/causality.jpg" width="600"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="drawing-a-dag-1" class="slide level2">
<h2>Drawing a DAG</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Drawing an arrow requires a direction - making a statement about causality!</p></li>
<li><p><em>Omitting</em> an arrow makes an equally important statement too!</p>
<ul>
<li>In fact, we will <em>need</em> omitted arrows to show causality!</li>
</ul></li>
<li><p>If two variables are correlated, but neither causes the other, likely they are both caused by another (perhaps <strong>unobserved</strong>) variable - add it!</p></li>
<li><p>There should be no <em>cycles</em> or <em>loops</em> (if so, there’s probably another missing variable, such as time)</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/causality.jpg" width="600"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="dag-example-i" class="slide level2">
<h2>DAG Example I</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="callout callout-tip no-icon callout-captioned callout-style-simple">
<div class="callout-body">
<div class="callout-caption">
<p><strong>Example</strong></p>
</div>
<div class="callout-content">
<p>what is the effect of education on wages?</p>
<ul>
<li><p>Education <span class="math inline">\(X\)</span>, “treatment” or “exposure”</p></li>
<li><p>Wages <span class="math inline">\(Y\)</span>, “outcome” or “response”</p></li>
</ul>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-7-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="dag-example-i-1" class="slide level2">
<h2>DAG Example I</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>What other variables are important?
<ul>
<li>Ability</li>
<li>Socioeconomic status</li>
<li>Demographics</li>
<li>Phys. Ed. requirements</li>
<li>Year of birth</li>
<li>Location</li>
<li>Schooling laws</li>
<li>Job connections</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-8-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="dag-example-i-2" class="slide level2">
<h2>DAG Example I</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>In social science and complex systems, 1000s of variables could plausibly be in DAG!</p></li>
<li><p>So simplify:</p>
<ul>
<li>Ignore trivial things (Phys. Ed. requirement)</li>
<li>Combine similar variables (Socioeconomic status, Demographics, Location) <span class="math inline">\(\rightarrow\)</span> Background</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-9-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="dag-example-ii" class="slide level2">
<h2>DAG Example II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Background, Year of birth, Location, Compulsory schooling, all cause education</p></li>
<li><p>Background, year of birth, location, job connections probably cause wages</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-10-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="dag-example-ii-1" class="slide level2">
<h2>DAG Example II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Background, Year of birth, Location, Compulsory schooling, all cause education</p></li>
<li><p>Background, year of birth, location, job connections probably cause wages</p></li>
<li><p>Job connections in fact is probably caused by education!</p></li>
<li><p>Location and background probably both caused by unobserved factor (<code>u1</code>)</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-11-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="dag-example-ii-2" class="slide level2">
<h2>DAG Example II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>This is messy, but we have a causal model!</p></li>
<li><p>Makes our assumptions <strong>explicit</strong>, and many of them are <strong>testable</strong></p></li>
<li><p>DAG suggests certain relationships that will <em>not</em> exist:</p>
<ul>
<li>all relationships between <code>laws</code> and <code>conx</code> go through <code>educ</code></li>
<li>so if we controlled for <code>educ</code>, then <code>cor(laws,conx)</code> should be zero!</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-12-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="let-the-computer-do-it-dagitty.net-i" class="slide level2">
<h2>Let the Computer Do It: Dagitty.net I</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="images/dagitty.png"></p>
</div><div class="column" style="width:50%;">
<ul>
<li><p><a href="http://dagitty.net">Dagitty.net</a> is a great tool to make these and give you testable implications</p></li>
<li><p>Click <code>Model -&gt; New Model</code></p></li>
<li><p>Name your “exposure” variable <span class="math inline">\((X\)</span> of interest) and “outcome” variable <span class="math inline">\((Y)\)</span></p></li>
</ul>
</div>
</div>
</section>
<section id="let-the-computer-do-it-dagitty.net-ii" class="slide level2">
<h2>Let the Computer Do It: Dagitty.net II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="images/dagittyex1.png"></p>
</div><div class="column" style="width:50%;">
<ul>
<li><p>Click and drag to move nodes around</p></li>
<li><p>Add a new variable by double-clicking</p></li>
<li><p>Add an arrow by double-clicking one variable and then double-clicking on the target (do again to remove arrow)</p></li>
</ul>
</div>
</div>
</section>
<section id="let-the-computer-do-it-dagitty.net-ii-1" class="slide level2">
<h2>Let the Computer Do It: Dagitty.net II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="images/dagittyex2.png"></p>
</div><div class="column" style="width:50%;">

</div>
</div>
</section>
<section id="let-the-computer-do-it-dagitty.net-iii" class="slide level2">
<h2>Let the Computer Do It: Dagitty.net III</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="images/dagittyex2adjust.png"></p>
</div><div class="column" style="width:50%;">
<ul>
<li>Tells you <span class="hi-purple">how to identify your effect</span>! (upper right)</li>
</ul>
<blockquote>
<p><span class="hi-purple">Minimal sufficient adjustment sets</span> containing background, location, year for estimating the total effect of educ on wage: background, location, year</p>
</blockquote>
</div>
</div>
</section>
<section id="let-the-computer-do-it-dagitty.net-iii-1" class="slide level2">
<h2>Let the Computer Do It: Dagitty.net III</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="images/dagittyex2imps.png"></p>
</div><div class="column" style="width:50%;">
<ul>
<li><p>Tells you some <span class="hi-turquoise">testable implications</span> of your model</p></li>
<li><p>These are <span class="hi-turquoise">(conditional) independencies</span>:</p></li>
</ul>
<p><span class="math display">\[X \perp Y \, | \, Z\]</span></p>
<blockquote>
<p>“X is independent of Y, given Z”</p>
</blockquote>
<ul>
<li>Implies that by <em>controlling for <span class="math inline">\(Z\)</span></em>, <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> should have <em>no correlation</em></li>
</ul>
</div>
</div>
</section>
<section id="let-the-computer-do-it-dagitty.net-iii-2" class="slide level2">
<h2>Let the Computer Do It: Dagitty.net III</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="images/dagittyex2imps.png"></p>
</div><div class="column" style="width:50%;">
<ul>
<li><p>Tells you some <span class="hi-turquoise">testable implications</span> of your model</p></li>
<li><p><span class="hi-green">Example</span>: look at the last one listed:</p></li>
</ul>
<p><code>job_connections</code> <span class="math inline">\(\perp\)</span> <code>year</code> <span class="math inline">\(\vert\)</span> <code>educ</code></p>
<blockquote>
<p>“Job connections are independent of year, controlling for education”</p>
</blockquote>
<ul>
<li>Implies that by controlling for <code>educ</code>, there should be no correlation between <code>job_connections</code> and <code>year</code> — can test this with data!</li>
</ul>
</div>
</div>
</section>
<section id="causal-effect" class="slide level2">
<h2>Causal Effect</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="images/dagittycontrolled.png"></p>
</div><div class="column" style="width:50%;">
<ul>
<li>If we control for <code>background</code>, <code>location</code>, and <code>year</code>, we can <span class="hi-purple">identify the causal effect</span> of <code>educ</code> <span class="math inline">\(\rightarrow\)</span> <code>wage</code>.</li>
</ul>
</div>
</div>
</section>
<section id="you-can-draw-dags-in-r" class="slide level2">
<h2>You Can Draw DAGs in <code>R</code></h2>
<ul>
<li>New package: <code>ggdag</code></li>
<li>Arrows are made with formula notation: <code>Y ~ X + Z</code> means “<code>Y</code> is caused by <code>X</code> and <code>Z</code>”</li>
</ul>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(ggdag)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">dagify</span>(wage <span class="sc">~</span> educ <span class="sc">+</span> conx <span class="sc">+</span> year <span class="sc">+</span> bckg <span class="sc">+</span> loc,</span>
<span id="cb1-3"><a href="#cb1-3"></a>       educ <span class="sc">~</span> bckg <span class="sc">+</span> year <span class="sc">+</span> loc <span class="sc">+</span> laws,</span>
<span id="cb1-4"><a href="#cb1-4"></a>       conx <span class="sc">~</span> educ,</span>
<span id="cb1-5"><a href="#cb1-5"></a>       bckg <span class="sc">~</span> u1,</span>
<span id="cb1-6"><a href="#cb1-6"></a>       loc <span class="sc">~</span> u1,</span>
<span id="cb1-7"><a href="#cb1-7"></a>       <span class="at">exposure =</span> <span class="st">"educ"</span>, <span class="co"># optional: define X</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>       <span class="at">outcome =</span> <span class="st">"wage"</span> <span class="co"># optional: define Y</span></span>
<span id="cb1-9"><a href="#cb1-9"></a>       ) <span class="sc">%&gt;%</span></span>
<span id="cb1-10"><a href="#cb1-10"></a>  <span class="fu">ggdag</span>()<span class="sc">+</span></span>
<span id="cb1-11"><a href="#cb1-11"></a>  <span class="fu">theme_dag</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column fragment">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-13-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="you-can-draw-dags-in-r-ii" class="slide level2">
<h2>You Can Draw DAGs in <code>R</code> II</h2>
<ul>
<li>Or you can just copy the code from <code>dagitty.net</code>!</li>
<li>Use <code>dagitty()</code> from the <code>dagitty</code> package, and paste the code in quotes</li>
</ul>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># install.packages("dagitty")</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="fu">library</span>(dagitty)</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="fu">dagitty</span>(<span class="st">'dag {</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="st">bb="0,0,1,1"</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="st">background [pos="0.413,0.335"]</span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="st">compulsory_schooling_laws [pos="0.544,0.076"]</span></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="st">educ [exposure,pos="0.185,0.121"]</span></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="st">job_connections [pos="0.302,0.510"]</span></span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="st">location [pos="0.571,0.431"]</span></span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="st">u1 [pos="0.539,0.206"]</span></span>
<span id="cb2-11"><a href="#cb2-11"></a><span class="st">wage [outcome,pos="0.552,0.761"]</span></span>
<span id="cb2-12"><a href="#cb2-12"></a><span class="st">year [pos="0.197,0.697"]</span></span>
<span id="cb2-13"><a href="#cb2-13"></a><span class="st">background -&gt; educ</span></span>
<span id="cb2-14"><a href="#cb2-14"></a><span class="st">background -&gt; wage</span></span>
<span id="cb2-15"><a href="#cb2-15"></a><span class="st">compulsory_schooling_laws -&gt; educ</span></span>
<span id="cb2-16"><a href="#cb2-16"></a><span class="st">educ -&gt; job_connections</span></span>
<span id="cb2-17"><a href="#cb2-17"></a><span class="st">educ -&gt; wage</span></span>
<span id="cb2-18"><a href="#cb2-18"></a><span class="st">job_connections -&gt; wage</span></span>
<span id="cb2-19"><a href="#cb2-19"></a><span class="st">location -&gt; educ</span></span>
<span id="cb2-20"><a href="#cb2-20"></a><span class="st">location -&gt; wage</span></span>
<span id="cb2-21"><a href="#cb2-21"></a><span class="st">u1 -&gt; background</span></span>
<span id="cb2-22"><a href="#cb2-22"></a><span class="st">u1 -&gt; location</span></span>
<span id="cb2-23"><a href="#cb2-23"></a><span class="st">year -&gt; educ</span></span>
<span id="cb2-24"><a href="#cb2-24"></a><span class="st">year -&gt; wage</span></span>
<span id="cb2-25"><a href="#cb2-25"></a><span class="st">}'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-26"><a href="#cb2-26"></a>  <span class="fu">ggdag</span>()<span class="sc">+</span></span>
<span id="cb2-27"><a href="#cb2-27"></a>  <span class="fu">theme_dag</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column fragment">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-14-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="you-can-draw-dags-in-r-1" class="slide level2">
<h2>You Can Draw DAGs In <code>R</code></h2>
<ul>
<li>It’s not very pretty, but if you set <code>text = FALSE, use_labels = "name</code> inside <code>ggdag()</code>, makes it easier to read</li>
</ul>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">dagitty</span>(<span class="st">'dag {</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="st">bb="0,0,1,1"</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="st">background [pos="0.413,0.335"]</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="st">compulsory_schooling_laws [pos="0.544,0.076"]</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="st">educ [exposure,pos="0.185,0.121"]</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="st">job_connections [pos="0.302,0.510"]</span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="st">location [pos="0.571,0.431"]</span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="st">u1 [pos="0.539,0.206"]</span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="st">wage [outcome,pos="0.552,0.761"]</span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="st">year [pos="0.197,0.697"]</span></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="st">background -&gt; educ</span></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="st">background -&gt; wage</span></span>
<span id="cb3-13"><a href="#cb3-13"></a><span class="st">compulsory_schooling_laws -&gt; educ</span></span>
<span id="cb3-14"><a href="#cb3-14"></a><span class="st">educ -&gt; job_connections</span></span>
<span id="cb3-15"><a href="#cb3-15"></a><span class="st">educ -&gt; wage</span></span>
<span id="cb3-16"><a href="#cb3-16"></a><span class="st">job_connections -&gt; wage</span></span>
<span id="cb3-17"><a href="#cb3-17"></a><span class="st">location -&gt; educ</span></span>
<span id="cb3-18"><a href="#cb3-18"></a><span class="st">location -&gt; wage</span></span>
<span id="cb3-19"><a href="#cb3-19"></a><span class="st">u1 -&gt; background</span></span>
<span id="cb3-20"><a href="#cb3-20"></a><span class="st">u1 -&gt; location</span></span>
<span id="cb3-21"><a href="#cb3-21"></a><span class="st">year -&gt; educ</span></span>
<span id="cb3-22"><a href="#cb3-22"></a><span class="st">year -&gt; wage</span></span>
<span id="cb3-23"><a href="#cb3-23"></a><span class="st">}'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-24"><a href="#cb3-24"></a>  <span class="fu">ggdag</span>(., <span class="at">text =</span> <span class="cn">FALSE</span>, <span class="at">use_labels =</span> <span class="st">"name"</span>)<span class="sc">+</span></span>
<span id="cb3-25"><a href="#cb3-25"></a>  <span class="fu">theme_dag</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column fragment">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-15-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="ggdag-additional-tools" class="slide level2">
<h2><code>ggdag</code>: Additional Tools</h2>
<ul>
<li>If you have defined <code>X</code> (<code>exposure</code>) and <code>Y</code> (<code>outcome</code>), you can use <code>ggdag_paths()</code> to have it show all possible paths between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>!</li>
</ul>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">dagify</span>(wage <span class="sc">~</span> educ <span class="sc">+</span> conx <span class="sc">+</span> year <span class="sc">+</span> bckg <span class="sc">+</span> loc,</span>
<span id="cb4-2"><a href="#cb4-2"></a>       educ <span class="sc">~</span> bckg <span class="sc">+</span> year <span class="sc">+</span> loc <span class="sc">+</span> laws,</span>
<span id="cb4-3"><a href="#cb4-3"></a>       conx <span class="sc">~</span> educ,</span>
<span id="cb4-4"><a href="#cb4-4"></a>       bckg <span class="sc">~</span> u1,</span>
<span id="cb4-5"><a href="#cb4-5"></a>       loc <span class="sc">~</span> u1,</span>
<span id="cb4-6"><a href="#cb4-6"></a>       <span class="at">exposure =</span> <span class="st">"educ"</span>,</span>
<span id="cb4-7"><a href="#cb4-7"></a>       <span class="at">outcome =</span> <span class="st">"wage"</span></span>
<span id="cb4-8"><a href="#cb4-8"></a>       ) <span class="sc">%&gt;%</span></span>
<span id="cb4-9"><a href="#cb4-9"></a>  <span class="fu">tidy_dagitty</span>(<span class="at">seed =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-10"><a href="#cb4-10"></a>  <span class="fu">ggdag_paths</span>()<span class="sc">+</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb4-11"><a href="#cb4-11"></a>  <span class="fu">theme_dag</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column fragment">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-16-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="ggdag-additional-tools-1" class="slide level2">
<h2><code>ggdag</code>: Additional Tools</h2>
<ul>
<li>If you have defined <code>X</code> (<code>exposure</code>) and <code>Y</code> (<code>outcome</code>), you can use <code>ggdag_adjustment_set()</code> to have it show you what you need to control for in order to identify <span class="math inline">\(X \rightarrow Y\)</span>!</li>
</ul>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">dagify</span>(wage <span class="sc">~</span> educ <span class="sc">+</span> conx <span class="sc">+</span> year <span class="sc">+</span> bckg <span class="sc">+</span> loc,</span>
<span id="cb5-2"><a href="#cb5-2"></a>       educ <span class="sc">~</span> bckg <span class="sc">+</span> year <span class="sc">+</span> loc <span class="sc">+</span> laws,</span>
<span id="cb5-3"><a href="#cb5-3"></a>       conx <span class="sc">~</span> educ,</span>
<span id="cb5-4"><a href="#cb5-4"></a>       bckg <span class="sc">~</span> u1,</span>
<span id="cb5-5"><a href="#cb5-5"></a>       loc <span class="sc">~</span> u1,</span>
<span id="cb5-6"><a href="#cb5-6"></a>       <span class="at">exposure =</span> <span class="st">"educ"</span>,</span>
<span id="cb5-7"><a href="#cb5-7"></a>       <span class="at">outcome =</span> <span class="st">"wage"</span></span>
<span id="cb5-8"><a href="#cb5-8"></a>       ) <span class="sc">%&gt;%</span></span>
<span id="cb5-9"><a href="#cb5-9"></a>  <span class="fu">ggdag_adjustment_set</span>(<span class="at">shadow =</span> T)<span class="sc">+</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb5-10"><a href="#cb5-10"></a>  <span class="fu">theme_dag</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column fragment">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-17-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="ggdag-additional-tools-2" class="slide level2">
<h2><code>ggdag</code>: Additional Tools</h2>
<ul>
<li>You can also use <code>impliedConditionalIndependencies()</code> from the <code>dagitty</code> package to have it show the testable implications from dagitty.net</li>
</ul>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">dagify</span>(wage <span class="sc">~</span> educ <span class="sc">+</span> conx <span class="sc">+</span> year <span class="sc">+</span> bckg <span class="sc">+</span> loc,</span>
<span id="cb6-2"><a href="#cb6-2"></a>       educ <span class="sc">~</span> bckg <span class="sc">+</span> year <span class="sc">+</span> loc <span class="sc">+</span> laws,</span>
<span id="cb6-3"><a href="#cb6-3"></a>       conx <span class="sc">~</span> educ,</span>
<span id="cb6-4"><a href="#cb6-4"></a>       bckg <span class="sc">~</span> u1,</span>
<span id="cb6-5"><a href="#cb6-5"></a>       loc <span class="sc">~</span> u1,</span>
<span id="cb6-6"><a href="#cb6-6"></a>       <span class="at">exposure =</span> <span class="st">"educ"</span>,</span>
<span id="cb6-7"><a href="#cb6-7"></a>       <span class="at">outcome =</span> <span class="st">"wage"</span></span>
<span id="cb6-8"><a href="#cb6-8"></a>       ) <span class="sc">%&gt;%</span></span>
<span id="cb6-9"><a href="#cb6-9"></a>  <span class="fu">impliedConditionalIndependencies</span>() <span class="co">#&lt;&lt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column fragment">
<div class="cell-output cell-output-stdout">
<pre><code>bckg _||_ conx | educ
bckg _||_ laws
bckg _||_ loc | u1
bckg _||_ year
conx _||_ laws | educ
conx _||_ loc | educ
conx _||_ u1 | bckg, loc
conx _||_ u1 | educ
conx _||_ year | educ
educ _||_ u1 | bckg, loc
laws _||_ loc
laws _||_ u1
laws _||_ wage | bckg, educ, loc, year
laws _||_ year
loc _||_ year
u1 _||_ wage | bckg, loc
u1 _||_ year</code></pre>
</div>
</div>
</div>
</section></section>
<section>
<section id="dag-rules" class="title-slide slide level1 centered center" data-background-color="#314f4f">
<h1>DAG Rules</h1>

</section>
<section id="dag-rules-1" class="slide level2">
<h2>DAG Rules</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>How does dagitty.net and <code>ggdag</code> know how to identify effects, or what to control for, or what implications are testable?</p></li>
<li><p>Comes from fancy math called “do-calculus”</p></li>
</ul>
<p><img data-src="images/do-calculus.png"></p>
<ul>
<li>Fortunately, these amount to a few simple rules that we can see on a DAG</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/bookofwhy.jpg"></p>
</div>
</div>
</section>
<section id="dags-i" class="slide level2">
<h2>DAGs I</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Typical notation:</p></li>
<li><p><span class="math inline">\(X\)</span> is independent variable of interest</p>
<ul>
<li>Epidemiology: <span class="hi-purple">“intervention”</span> or <span class="hi-purple">“exposure”</span></li>
</ul></li>
<li><p><span class="math inline">\(Y\)</span> is dependent or <span class="hi-purple">“response”</span> variable</p></li>
<li><p>Other variables use other letters</p></li>
<li><p>You can of course use words instead of letters!</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-19-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="dags-and-causal-effects" class="slide level2">
<h2>DAGs and Causal Effects</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Arrows indicate causal effect (&amp; direction)</p></li>
<li><p>Two types of causal effect:</p></li>
</ul>
<ol type="1">
<li>Direct effects: <span class="math inline">\(X \rightarrow Y\)</span></li>
</ol>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-20-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="dags-and-causal-effects-1" class="slide level2">
<h2>DAGs and Causal Effects</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Arrows indicate causal effect (&amp; direction)</p></li>
<li><p>Two types of causal effect:</p></li>
</ul>
<ol type="1">
<li><p>Direct effects: <span class="math inline">\(X \rightarrow Y\)</span></p></li>
<li><p>Indirect effects: <span class="math inline">\(X \rightarrow M \rightarrow Y\)</span></p></li>
</ol>
<ul>
<li><span class="math inline">\(M\)</span> is a <span class="hi-purple">“mediator”</span> variable, the <span class="hi-purple">mechanism</span> by which <span class="math inline">\(X\)</span> affects <span class="math inline">\(Y\)</span></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-21-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="dags-and-causal-effects-2" class="slide level2">
<h2>DAGs and Causal Effects</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Arrows indicate causal effect (&amp; direction)</p></li>
<li><p>Two types of causal effect:</p></li>
</ul>
<ol type="1">
<li><p>Direct effects: <span class="math inline">\(X \rightarrow Y\)</span></p></li>
<li><p>Indirect effects: <span class="math inline">\(X \rightarrow M \rightarrow Y\)</span></p></li>
</ol>
<ul>
<li><span class="math inline">\(M\)</span> is a <span class="hi-purple">“mediator”</span> variable, the <span class="hi-purple">mechanism</span> by which <span class="math inline">\(X\)</span> affects <span class="math inline">\(Y\)</span></li>
</ul>
<ol start="3" type="1">
<li>You of course might have both!</li>
</ol>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-22-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="confounders" class="slide level2">
<h2>Confounders</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p><span class="math inline">\(Z\)</span> is a <span class="hi">“confounder”</span>: it causes <em>both</em> <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span></p></li>
<li><p><span class="math inline">\(cor(X,Y)\)</span> is made up of two parts:</p>
<ol type="1">
<li>Causal effect of <span class="math inline">\((X \rightarrow Y)\)</span> 👍</li>
<li><span class="math inline">\(Z\)</span> causing both the values of <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> 👎</li>
</ol></li>
<li><p>Failing to control for <span class="math inline">\(Z\)</span> will <span class="hi-purple">bias</span> our estimate of the causal effect of <span class="math inline">\(X \rightarrow Y\)</span>!</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-23-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="confounders-1" class="slide level2">
<h2>Confounders</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Confounders are the DAG-equivalent of <span class="hi">omitted variable bias</span> (next class)</li>
</ul>
<p><span class="math display">\[Y_i=\beta_0+\beta_1 X_i\]</span></p>
<ul>
<li><p>By leaving out <span class="math inline">\(Z_i\)</span>, this regression is <span class="hi-purple">biased</span></p></li>
<li><p><span class="math inline">\(\hat{\beta}_1\)</span> picks up <em>both</em>:</p>
<ol type="1">
<li><span class="math inline">\(X \rightarrow Y\)</span></li>
<li><span class="math inline">\(X \leftarrow Z \rightarrow Y\)</span></li>
</ol></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-24-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="front-doors-and-back-doors" class="slide level2">
<h2>“Front Doors” and “Back Doors”</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>With this DAG, there are 2 paths that connect <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span><sup>1</sup>:</li>
</ul>
<ol type="1">
<li>A <span class="hi">causal “front-door” path</span>: <span class="math inline">\(X \rightarrow Y\)</span></li>
</ol>
<ul>
<li>👍 what we want to measure</li>
</ul>
<ol start="2" type="1">
<li>A <span class="hi-purple">non-causal “back-door” path</span>: <span class="math inline">\(X \leftarrow Z \rightarrow Y\)</span></li>
</ol>
<ul>
<li>At least one causal arrow runs in the opposite direction</li>
<li>👎 adds a confounding bias</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-25-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<aside><ol class="aside-footnotes"><li id="fn1" role="doc-endnote"><p>Regardless of the <em>directions</em> of the arrows!</p></li></ol></aside></section>
<section id="controlling-i" class="slide level2">
<h2>Controlling I</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Ideally, if we ran a <span class="hi">randomized control trial</span> and randomly assigned different values of <span class="math inline">\(X\)</span> to different individuals, this would delete the arrow between <span class="math inline">\(Z\)</span> and <span class="math inline">\(X\)</span></p>
<ul>
<li>Individuals’ values of <span class="math inline">\(Z\)</span> do not affect whether or not they are treated (<span class="math inline">\(X\)</span>)</li>
</ul></li>
<li><p>This would only leave the front-door, <span class="math inline">\(X \rightarrow Y\)</span></p></li>
<li><p>But we can rarely run an ideal RCT</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-26-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="controlling-ii" class="slide level2">
<h2>Controlling II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Instead of an RCT, if we can just <span class="hi-purple">“adjust for”</span> or <span class="hi-purple">“control for”</span> <span class="math inline">\(Z\)</span>, we can <em>block</em> the back-door path <span class="math inline">\(X \leftarrow Z \rightarrow Y\)</span></p></li>
<li><p>This would only leave the front-door path open, <span class="math inline">\(X \rightarrow Y\)</span></p></li>
<li><p>“As good as” an RCT!</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-27-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="controlling-ii-1" class="slide level2">
<h2>Controlling II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Using our terminology from last class, we have an outcome <span class="math inline">\((Y)\)</span>, and some treatment</p></li>
<li><p>But there are <strong>unobserved factors</strong> <span class="math inline">\((u)\)</span></p></li>
</ul>
<p><span class="math display">\[Y_i = \beta_0 + \beta_1 Treatment + u_i\]</span></p>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-28-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="controlling-ii-2" class="slide level2">
<h2>Controlling II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Using our terminology from last class, we have an outcome <span class="math inline">\((Y)\)</span>, and some treatment</p></li>
<li><p>But there are <strong>unobserved factors</strong> <span class="math inline">\((u)\)</span></p></li>
</ul>
<p><span class="math display">\[Y_i = \beta_0 + \beta_1 Treatment + u_i\]</span></p>
<ul>
<li>If we can <em>randomly</em> assign treatment, this makes treatment exogenous:</li>
</ul>
<p><span class="math display">\[cor(treatment,u)=0\]</span></p>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-29-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="controlling-ii-3" class="slide level2">
<h2>Controlling II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Using our terminology from last class, we have an outcome <span class="math inline">\((Y)\)</span>, and some treatment</p></li>
<li><p>But there are <strong>unobserved factors</strong> <span class="math inline">\((u)\)</span></p></li>
</ul>
<p><span class="math display">\[Y_i = \beta_0 + \beta_1 Treatment + u_i\]</span></p>
<ul>
<li>When we (often) can’t randomly assign treatment, we have to find another way to control for measurable things in <span class="math inline">\(u\)</span></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-30-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="controlling-ii-4" class="slide level2">
<h2>Controlling II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Controlling for a single variable along a long causal path is sufficient to block that path!</p></li>
<li><p>Causal path: <span class="math inline">\(X \rightarrow Y\)</span></p></li>
<li><p>Backdoor path: <span class="math inline">\(X \leftarrow A \rightarrow B \rightarrow C \rightarrow Y\)</span></p></li>
<li><p>It is sufficient to block this backdoor by controlling <strong>either</strong> <span class="math inline">\(A\)</span> <strong>or</strong> <span class="math inline">\(B\)</span> <strong>or</strong> <span class="math inline">\(C\)</span>!</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-31-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="controlling-ii-5" class="slide level2">
<h2>Controlling II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Controlling for a single variable along a long causal path is sufficient to block that path!</p></li>
<li><p>Causal path: <span class="math inline">\(X \rightarrow Y\)</span></p></li>
<li><p>Backdoor path: <span class="math inline">\(X \leftarrow A \rightarrow B \rightarrow C \rightarrow Y\)</span></p></li>
<li><p>It is sufficient to block this backdoor by controlling <strong>either</strong> <span class="math inline">\(A\)</span> <strong>or</strong> <span class="math inline">\(B\)</span> <strong>or</strong> <span class="math inline">\(C\)</span>!</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-32-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="the-back-door-criterion" class="slide level2">
<h2>The Back Door Criterion</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>To <span class="hi">identify</span> the causal effect of <span class="math inline">\(X \rightarrow Y\)</span>:</p></li>
<li><p><span class="hi-purple">“Back-door criterion”</span>: control for the minimal amount of variables sufficient to ensure that <strong>no open back-door exists</strong> between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span></p></li>
<li><p><span class="hi-green">Example</span>: in this DAG, control for <span class="math inline">\(Z\)</span></p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-33-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="the-back-door-criterion-1" class="slide level2">
<h2>The Back Door Criterion</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Implications of the Back-door criterion:</li>
</ul>
<ol type="1">
<li>You <em>only</em> need to control for the variables that keep a back-door open, <em>not all other variables!</em></li>
</ol>
<p><span class="hi-green"><strong>Example</strong></span>:</p>
<ul>
<li><span class="math inline">\(X \rightarrow Y\)</span> (front-door)</li>
<li><span class="math inline">\(X \leftarrow A \rightarrow B \rightarrow Y\)</span> (back-door)</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-34-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="the-back-door-criterion-2" class="slide level2">
<h2>The Back Door Criterion</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Implications of the Back-door criterion:</li>
</ul>
<ol type="1">
<li>You <em>only</em> need to control for the variables that keep a back-door open, <em>not all other variables!</em></li>
</ol>
<p><span class="hi-green"><strong>Example</strong></span>:</p>
<ul>
<li><p><span class="math inline">\(X \rightarrow Y\)</span> (front-door)</p></li>
<li><p><span class="math inline">\(X \leftarrow A \rightarrow B \rightarrow Y\)</span> (back-door)</p></li>
<li><p>Need only control for <span class="math inline">\(A\)</span> <em>or</em> <span class="math inline">\(B\)</span> to block the back-door path</p></li>
<li><p><span class="math inline">\(C\)</span> and <span class="math inline">\(Z\)</span> have no effect on <span class="math inline">\(X\)</span>, and therefore we don’t need to control for them!</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-35-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="the-back-door-criterion-colliders" class="slide level2">
<h2>The Back Door Criterion: Colliders</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ol start="2" type="1">
<li>Exception: the case of a <span class="hi">“collider”</span></li>
</ol>
<ul>
<li>If arrows “collide” at a node, <strong>that node is automatically blocking the pathway</strong>, <span class="hi-purple">do not control for it!</span></li>
<li>Controlling for a collider would <em>open</em> the path and <strong>add bias!</strong></li>
</ul>
<p><span class="hi-green"><strong>Example</strong></span>:</p>
<ul>
<li><span class="math inline">\(X \rightarrow Y\)</span> (front-door)</li>
<li><span class="math inline">\(X \leftarrow A \rightarrow B \leftarrow C \rightarrow Y\)</span> (back-door, but <strong>blocked by B!</strong>)</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-36-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="the-back-door-criterion-colliders-1" class="slide level2">
<h2>The Back Door Criterion: Colliders</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ol start="2" type="1">
<li>Exception: the case of a <span class="hi">“collider”</span></li>
</ol>
<ul>
<li>If arrows “collide” at a node, <strong>that node is automatically blocking the pathway</strong>, <span class="hi-purple">do not control for it!</span></li>
<li>Controlling for a collider would <em>open</em> the path and <strong>add bias!</strong></li>
</ul>
<p><span class="hi-green"><strong>Example</strong></span>:</p>
<ul>
<li><span class="math inline">\(X \rightarrow Y\)</span> (front-door)</li>
<li><span class="math inline">\(X \leftarrow A \rightarrow B \leftarrow C \rightarrow Y\)</span> (back-door, but <strong>blocked by B!</strong>)</li>
<li>Don’t need to control for anything here!</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-37-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="the-back-door-criterion-colliders-example" class="slide level2">
<h2>The Back Door Criterion: Colliders Example</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Are you less likely to get the flu if you are hit by a bus?</p>
<ul>
<li><p><span class="math inline">\(Flu\)</span>: getting the flu</p></li>
<li><p><span class="math inline">\(Bus\)</span>: being hit by a bus</p></li>
<li><p><span class="math inline">\(Hos\)</span>: being in the hospital</p></li>
<li><p>Both <span class="math inline">\(Flu\)</span> and <span class="math inline">\(Bus\)</span> send you to <span class="math inline">\(Hos\)</span> (arrows)</p></li>
<li><p>Conditional on being in <span class="math inline">\(Hos\)</span>, negative correlation between <span class="math inline">\(Flu\)</span> and <span class="math inline">\(Bus\)</span> (spurious!)</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-38-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="the-back-door-criterion-colliders-example-1" class="slide level2">
<h2>The Back Door Criterion: Colliders Example</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>In the NBA, apparently players’ height has no relationship to points scored?</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/bulls-scores-1.png"></p>
</div>
</div>
</section>
<section id="the-back-door-criterion-colliders-example-2" class="slide level2">
<h2>The Back Door Criterion: Colliders Example</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><strong>In the NBA</strong>, apparently players’ height has no relationship to points scored?</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-39-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="the-front-door-criterion-mediators-i" class="slide level2">
<h2>The Front Door Criterion: Mediators I</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Another case where controlling for a variable actually <em>adds bias</em> is if that variable is known as a <span class="hi">“mediator”</span>.</li>
</ul>
<p><span class="hi-green">Example</span></p>
<ul>
<li><p><span class="math inline">\(X \rightarrow M \rightarrow Y\)</span> (front-door)</p></li>
<li><p><span class="math inline">\(X \leftarrow A \rightarrow Y\)</span> (back-door)</p></li>
<li><p><span class="math inline">\(X \leftarrow B \rightarrow Y\)</span> (back-door)</p></li>
<li><p>Should we control for <span class="math inline">\(M\)</span>?</p></li>
<li><p>If we did, this would block the front-door!</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-40-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="the-front-door-criterion-mediators-ii" class="slide level2">
<h2>The Front Door Criterion: Mediators II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Another case where controlling for a variable actually <em>adds bias</em> is if that variable is known as a <span class="hi">“mediator”</span>.</li>
</ul>
<p><span class="hi-green">Example</span></p>
<ul>
<li><p><span class="math inline">\(X \rightarrow M \rightarrow Y\)</span> (front-door)</p></li>
<li><p><span class="math inline">\(X \leftarrow A \rightarrow Y\)</span> (back-door)</p></li>
<li><p><span class="math inline">\(X \leftarrow B \rightarrow Y\)</span> (back-door)</p></li>
<li><p>If we control for <span class="math inline">\(M\)</span>, would block the front-door!</p></li>
<li><p>If we can estimate <span class="math inline">\(X \rightarrow M\)</span> and <span class="math inline">\(M \rightarrow Y\)</span> (note, no back-doors to either of these!), we can estimate <span class="math inline">\(X \rightarrow Y\)</span></p></li>
<li><p>This is the <span class="hi-purple">front door method</span></p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-41-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="the-front-door-criterion-mediators-iii" class="slide level2">
<h2>The Front Door Criterion: Mediators III</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Tobacco industry claimed that <span class="math inline">\(cor(smoking, cancer)\)</span> could be spurious due to a confounding <code>gene</code> that affects both!</p>
<ul>
<li>Smoking <code>gene</code> is unobservable</li>
</ul></li>
<li><p>Suppose smoking causes <code>tar</code> buildup in lungs, which cause <code>cancer</code></p></li>
<li><p>We should <em>not</em> control for <code>tar</code>, it’s on the <strong>front-door path</strong></p>
<ul>
<li>This is how scientific studies can relate smoking to cancer</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-42-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="summary-dag-rules-for-causal-identification" class="slide level2">
<h2>Summary: DAG Rules for Causal Identification</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Thus, to achieve <span class="hi">causal identification</span>, control for the minimal amount of variables such that:</p>
<ol type="1">
<li>Ensure <strong>no back-door path remains open</strong></li>
</ol>
<ul>
<li>Close back-door paths by <em>controlling</em> for any one variable along that path</li>
<li>Colliders along a path <em>automatically</em> close that path</li>
</ul>
<ol start="2" type="1">
<li>Ensure <strong>no front-door path is closed</strong></li>
</ol>
<ul>
<li>Do not control for mediators</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="3.2-slides_files/figure-revealjs/unnamed-chunk-43-1.png" width="960"></p>
</div>
</div>
</div>
</div>
<p><img src="../images/metrics_hex.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://metricsF22.classes.ryansafner.com">ECON 480 — Econometrics</a></p>
</div>
</section></section>

    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="3.2-slides_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="3.2-slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="3.2-slides_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="3.2-slides_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="3.2-slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="3.2-slides_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="3.2-slides_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="3.2-slides_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="3.2-slides_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="3.2-slides_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="3.2-slides_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          let href = ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>