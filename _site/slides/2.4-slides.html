<!DOCTYPE html>
<html lang="en"><head>
<script src="2.4-slides_files/libs/clipboard/clipboard.min.js"></script>
<script src="2.4-slides_files/libs/quarto-html/tabby.min.js"></script>
<script src="2.4-slides_files/libs/quarto-html/popper.min.js"></script>
<script src="2.4-slides_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="2.4-slides_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="2.4-slides_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="2.4-slides_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.0.37">

  <title>slides</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="2.4-slides_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="2.4-slides_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="2.4-slides_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="2.4-slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="2.4-slides_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="2.4-slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="2.4-slides_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="2.4-slides_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="2.4-slides_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section id="section" class="slide level2" data-menu-title="Title Slide" data-background-image="images/metrics_title_slide.png">
<h2></h2>
<p><span class="custom-title">2.4 — Goodness of Fit and Bias</span></p>
<p><span class="custom-subtitle">ECON 480 • Econometrics • Fall 2022</span></p>
<p><span class="custom-author">Dr.&nbsp;Ryan Safner <br> Associate Professor of Economics</span></p>
<p><span class="custom-institution"><a href="mailto:safner@hood.edu"><i class="fa fa-paper-plane fa-fw"></i>safner@hood.edu</a> <br> <a href="https://github.com/ryansafner/metricsF22"><i class="fa fa-github fa-fw"></i>ryansafner/metricsF22</a><br> <a href="https://metricsF22.classes.ryansafner.com"> <i class="fa fa-globe fa-fw"></i>metricsF22.classes.ryansafner.com</a><br></span></p>
<div class="cell">

</div>
</section>
<section id="contents" class="slide level2" data-background-color="#314f4f">
<h2>Contents</h2>
<p><a href="#/exploring-relationships">Exploring Relationships</a></p>
<p><a href="#/quantifying-relationships">Quantifying Relationships</a></p>
<p><a href="#/linear-regression">Linear Regression</a></p>
<p><a href="#/deriving-ols-estimators">Deriving OLS Estimators</a></p>
<p><a href="#/our-class-size-example-in-r">Our Class Size Example in R</a></p>
</section>
<section id="actual-predicted-and-residual-values" class="slide level2">
<h2>Actual, Predicted, and Residual Values</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>With a simple linear regression model, for each associated <span class="math inline">\(X\)</span> value, we have</li>
</ul>
<ol type="1">
<li>The <span class="blue"><strong>observed</strong></span> (or <span class="blue"><strong>actual</strong></span>) <span class="blue"><strong>values</strong></span> of <span class="math inline">\(\color{#0047AB}{Y_i}\)</span></li>
<li><span class="green"><strong>Predicted</strong></span> (or <span class="green"><strong>fitted</strong></span>) <span class="green"><strong>values</strong></span>, <span class="math inline">\(\color{#047806}{\hat{Y}_i}\)</span></li>
<li>The <span class="red"><strong>residual</strong></span> (or <span class="red"><strong>error</strong></span>), <span class="math inline">\(\color{#D7250E}{\hat{u}_i}=\color{#0047AB}{Y_i}-\color{#047806}{\hat{Y}_i}\)</span> … the difference between predicted and observed values</li>
</ol>
<p><span class="math display">\[\begin{align*}
\color{#0047AB}{Y_i} &amp;= \color{#047806}{\hat{Y}_i} + \color{#D7250E}{\hat{u}_i} \\
\color{#0047AB}{\text{Observed}_i} &amp;= \color{#047806}{\text{Model}_i} + \color{#D7250E}{\text{Error}_i} \\
\end{align*}\]</span></p>
<blockquote>
<p>“All models are wrong. But some are useful. — George Box”</p>
</blockquote>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="2.4-slides_files/figure-revealjs/unnamed-chunk-3-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section>
<section id="goodness-of-fit" class="title-slide slide level1 centered center" data-background-color="#314f4f">
<h1>Goodness of Fit</h1>

</section>
<section id="goodness-of-fit-1" class="slide level2">
<h2>Goodness of Fit</h2>
<ul>
<li><p>How well does a line fit data? How tightly clustered around the line are the data points?</p></li>
<li><p>Quantify <strong>how much variation in <span class="math inline">\(\color{#0047AB}{Y_i}\)</span> is “explained” by the model, <span class="math inline">\(\color{#047806}{\hat{Y}_i}\)</span></strong></p></li>
</ul>
<div class="fragment">
<p><span class="math display">\[\underbrace{\color{#0047AB}{Y_i}}_{\color{#0047AB}{Observed}}=\underbrace{\color{#047806}{\hat{Y}_i}}_{\color{#047806}{Model}}+\underbrace{\color{#D7250E}{\hat{u}_i}}_{\color{#D7250E}{Error}}\]</span></p>
<ul>
<li>Recall OLS estimators chosen to <strong>minimize</strong> <span class="red"><strong>Sum of Squared Residuals (SSR)</strong></span>: <span class="math inline">\(\left(\displaystyle \sum^n_{i=1}\hat{u_i}^2\right)\)</span></li>
</ul>
</div>
</section>
<section id="r2" class="slide level2">
<h2><span class="math inline">\(R^2\)</span></h2>
<ul>
<li>Primary measure<sup>1</sup> is <span class="hi">R-squared</span>, the fraction of variation in <span class="math inline">\(\color{#0047AB}{Y_i}\)</span> explained by variation in predicted values <span class="math inline">\(\color{#047806}{\hat{Y}_i}\)</span></li>
</ul>
<p><span class="math display">\[R^2 = \frac{var(\color{#047806}{\hat{Y}_i})}{var(\color{#0047AB}{Y_i})}\]</span></p>
<aside><ol class="aside-footnotes"><li id="fn1" role="doc-endnote"><p>Sometimes called the <span class="hi">“coefficient of determination”</span></p></li></ol></aside></section>
<section id="r2-formula-i" class="slide level2">
<h2><span class="math inline">\(R^2\)</span> Formula I</h2>
<p><span class="math display">\[R^2 = \frac{\color{#047806}{SSM}}{\color{#0047AB}{SST}}\]</span></p>
<div class="fragment">
<ul>
<li><span class="green"><strong>Model Sum of Squares (SSM)</strong></span>:<sup>1</sup> sum of squared deviations of <em>predicted</em> values from their mean<sup>2</sup></li>
</ul>
<p><span class="math display">\[\color{#047806}{SSM} = \sum^n_{i=1}(\hat{Y_i}-\bar{Y})^2\]</span></p>
</div>
<div class="fragment">
<ul>
<li><span class="blue"><strong>Total Sum of Squares (TSS)</strong></span>: sum of squared deviations of <em>observed</em> values from their mean</li>
</ul>
<p><span class="math display">\[\color{#0047AB}{SST} = \sum^n_{i=1}(Y_i-\bar{Y})^2\]</span></p>
</div>
<aside><ol class="aside-footnotes"><li id="fn2" role="doc-endnote"><p>Sometimes called Explained Sum of Squares (ESS) or Regression Sum of Squares (RSS) in other textbooks.</p></li><li id="fn3" role="doc-endnote"><p>It can be shown that <span class="math inline">\(\color{#047806}{\bar{\hat{Y_i}}}=\color{#0047AB}{\bar{Y_i}}\)</span></p></li></ol></aside></section>
<section id="r2-formula-ii" class="slide level2">
<h2><span class="math inline">\(R^2\)</span> Formula II</h2>
<ul>
<li>Equivalently, <span class="math inline">\(R^2\)</span> is the complement of the fraction of <strong>unexplained</strong> variation in <span class="math inline">\(Y_i\)</span></li>
</ul>
<p><span class="math display">\[R^2=1-\left(\frac{\color{#D7250E}{SSR}}{\color{#0047AB}{SST}}\right)\]</span></p>
<div class="fragment">
<ul>
<li>Equivalently, the square of the correlation coefficient between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span><sup>1</sup>:</li>
</ul>
<p><span class="math display">\[R^2=(r_{X,Y})^2\]</span></p>
</div>
<aside><ol class="aside-footnotes"><li id="fn4" role="doc-endnote"><p>The correlation coefficient between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> is the same as the correlation coefficient between <span class="math inline">\(Y\)</span> and <span class="math inline">\(\hat{Y}\)</span>: <span class="math inline">\(r_{X,Y}=r_{Y,\hat{Y}}\)</span>, so squaring either would also result in <span class="math inline">\(R^2\)</span>.</p></li></ol></aside></section>
<section id="visualizing-r2-i" class="slide level2">
<h2>Visualizing <span class="math inline">\(R^2\)</span> I</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><strong>Total Variation in Y</strong>: Areas <span class="red"><strong>A</strong></span> + <span class="hi-purple">C</span></li>
</ul>
<p><span class="math display">\[\color{#0047AB}{SST} = \sum^n_{i=1}(Y_i-\bar{Y})^2\]</span></p>
<ul>
<li><span class="hi-purple">Variation in Y explained by X: Area C</span></li>
</ul>
<p><span class="math display">\[\color{#047806}{SSM} = \sum^n_{i=1}(\hat{Y_i}-\bar{Y})^2\]</span></p>
<ul>
<li><span class="red"><strong>Unexplained variation in Y: Area A</strong></span></li>
</ul>
<p><span class="math display">\[\color{#D7250E}{SSR} = \sum^n_{i=1}(\hat{u_i})^2\]</span></p>
</div><div class="column" style="width:50%;">
<p><span class="math display">\[R^2 = \frac{SSM}{SST} = \frac{\color{purple}{C}}{\color{red}{A}+\color{purple}{C}}\]</span></p>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="2.4-slides_files/figure-revealjs/unnamed-chunk-4-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="visualizing-r2-ii" class="slide level2">
<h2>Visualizing <span class="math inline">\(R^2\)</span> II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># make a function to calc. sum of sq. devs</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>sum_sq <span class="ot">&lt;-</span> <span class="cf">function</span>(x){<span class="fu">sum</span>((x <span class="sc">-</span> <span class="fu">mean</span>(x))<span class="sc">^</span><span class="dv">2</span>)}</span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co"># find total sum of squares</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>SST <span class="ot">&lt;-</span> school_reg <span class="sc">%&gt;%</span></span>
<span id="cb1-6"><a href="#cb1-6"></a>  <span class="fu">augment</span>() <span class="sc">%&gt;%</span></span>
<span id="cb1-7"><a href="#cb1-7"></a>  <span class="fu">summarize</span>(<span class="at">SST =</span> <span class="fu">sum_sq</span>(testscr))</span>
<span id="cb1-8"><a href="#cb1-8"></a></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="co"># find explained sum of squares</span></span>
<span id="cb1-10"><a href="#cb1-10"></a>SSM <span class="ot">&lt;-</span> school_reg <span class="sc">%&gt;%</span></span>
<span id="cb1-11"><a href="#cb1-11"></a>  <span class="fu">augment</span>() <span class="sc">%&gt;%</span></span>
<span id="cb1-12"><a href="#cb1-12"></a>  <span class="fu">summarize</span>(<span class="at">SST =</span> <span class="fu">sum_sq</span>(.fitted))</span>
<span id="cb1-13"><a href="#cb1-13"></a></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="co"># look at them and divide to get R^2</span></span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="fu">tribble</span>(</span>
<span id="cb1-16"><a href="#cb1-16"></a>  <span class="sc">~</span>SSM, <span class="sc">~</span>SST, <span class="sc">~</span>R_sq,</span>
<span id="cb1-17"><a href="#cb1-17"></a>  SSM, SST, SSM<span class="sc">/</span>SST</span>
<span id="cb1-18"><a href="#cb1-18"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb1-19"><a href="#cb1-19"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table>
 <thead>
  <tr>
   <th style="text-align:left;"> SSM </th>
   <th style="text-align:left;"> SST </th>
   <th style="text-align:left;"> R_sq </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 7794.11 </td>
   <td style="text-align:left;"> 152109.6 </td>
   <td style="text-align:left;"> 0.0512401 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div><div class="column" style="width:50%;">
<p><span class="math display">\[R^2 = \frac{SSM}{SST} = \frac{\color{purple}{C}}{\color{red}{A}+\color{purple}{C}}=0.05\]</span></p>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="2.4-slides_files/figure-revealjs/unnamed-chunk-6-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="calculating-r2-in-r-i" class="slide level2">
<h2>Calculating <span class="math inline">\(R^2\)</span> in <code>R</code> I</h2>
<ul>
<li>Recall <code>broom</code>’s <code>augment()</code> command makes a lot of new regression-based values like:
<ul>
<li><code>.fitted</code>: predicted values <span class="math inline">\((\hat{Y_i})\)</span></li>
<li><code>.resid</code>: residuals <span class="math inline">\((\hat{u_i})\)</span></li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb2-2"><a href="#cb2-2"></a>school_reg <span class="sc">%&gt;%</span></span>
<span id="cb2-3"><a href="#cb2-3"></a>  <span class="fu">augment</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 420 × 8
   testscr   str .fitted .resid    .hat .sigma  .cooksd .std.resid
     &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;
 1    691.  17.9    658.   32.7 0.00442   18.5 0.00689       1.76 
 2    661.  21.5    650.   11.3 0.00475   18.6 0.000893      0.612
 3    644.  18.7    656.  -12.7 0.00297   18.6 0.000700     -0.685
 4    648.  17.4    659.  -11.7 0.00586   18.6 0.00117      -0.629
 5    641.  18.7    656.  -15.5 0.00301   18.6 0.00105      -0.836
 6    606.  21.4    650.  -44.6 0.00446   18.5 0.0130       -2.40 
 7    607.  19.5    654.  -47.7 0.00239   18.5 0.00794      -2.57 
 8    609   20.9    651.  -42.3 0.00343   18.5 0.00895      -2.28 
 9    612.  19.9    653.  -41.0 0.00244   18.5 0.00597      -2.21 
10    613.  20.8    652.  -38.9 0.00329   18.5 0.00723      -2.09 
# … with 410 more rows</code></pre>
</div>
</div>
</section>
<section id="calculating-r2-in-r-i-1" class="slide level2">
<h2>Calculating <span class="math inline">\(R^2\)</span> in <code>R</code> I</h2>
<ul>
<li>Or, simpler, can calculate <span class="math inline">\(R^2\)</span> in <code>R</code> as the ratio of variances in model vs.&nbsp;actual</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># as ratio of variances</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>school_reg <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>  <span class="fu">augment</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4"></a>  <span class="fu">summarize</span>(<span class="at">r_sq =</span> <span class="fu">var</span>(.fitted)<span class="sc">/</span><span class="fu">var</span>(testscr)) <span class="co"># var. of *predicted* testscr over var. of *actual* testscr</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
    r_sq
   &lt;dbl&gt;
1 0.0512</code></pre>
</div>
</div>
<p><span class="math display">\[R^2 = \frac{var(\hat{Y})}{var(Y)} = \frac{\color{red}{\frac{1}{n-1}}\sum^n_{i=1}(\hat{Y_i}-\bar{Y})^2}{\color{red}{\frac{1}{n-1}}\sum^n_{i=1}(Y_i-\bar{Y})^2} \rightarrow \frac{SSM}{SST}\]</span></p>
<ul>
<li>SSM and SST are simply the numerators of the variance of <span class="math inline">\(\hat{Y}\)</span> and <span class="math inline">\(Y\)</span>, respectively (i.e.&nbsp;before dividing by <span class="math inline">\(n-1\)</span>, which will cancel out).</li>
</ul>
</section>
<section id="standard-error-of-the-regression" class="slide level2">
<h2>Standard Error of the Regression</h2>
<ul>
<li><span class="hi">Standard Error of the Regression</span><sup>1</sup>, <span class="math inline">\(\color{#e64173}{\hat{\sigma}_u}\)</span> is an estimator of the standard deviation of <span class="math inline">\(u_i\)</span></li>
</ul>
<div class="fragment">
<p><span class="math display">\[\hat{\sigma_u}=\sqrt{\frac{SSR}{n-2}}=\sqrt{\frac{\sum \hat{u}_i^2}{n-2}}\]</span></p>
</div>
<div class="fragment">
<ul>
<li>Measures <span class="math inline">\(\approx\)</span> <span class="hi-purple">average residual</span> (distance between data points &amp; regression line)
<ul>
<li><span class="hi-turquoise">Degrees of Freedom correction</span> of <span class="math inline">\(n-2\)</span>: we use up 2 df to first calculate <span class="math inline">\(\hat{\beta_0}\)</span> and <span class="math inline">\(\hat{\beta_1}\)</span>!</li>
</ul></li>
</ul>
</div>
<aside><ol class="aside-footnotes"><li id="fn5" role="doc-endnote"><p>In machine learning and other contexts, focus on <span class="hi">Root Mean Square Error (RMSE)</span>:<span class="math display">\[RMSE = \sqrt{\frac{SSR}{n}} = \sqrt{\frac{\sum \hat{u}_i^2}{n}}\]</span> i.e.&nbsp;the positive root of the average squared residuals…so, average residual.</p></li></ol></aside></section>
<section id="calculating-ser-in-r" class="slide level2">
<h2>Calculating SER in <code>R</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>school_reg <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="fu">augment</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="fu">summarize</span>(<span class="at">SSR =</span> <span class="fu">sum</span>(.resid<span class="sc">^</span><span class="dv">2</span>),</span>
<span id="cb6-4"><a href="#cb6-4"></a>            <span class="at">df =</span> <span class="fu">n</span>()<span class="sc">-</span><span class="dv">2</span>,</span>
<span id="cb6-5"><a href="#cb6-5"></a>            <span class="at">SER =</span> <span class="fu">sqrt</span>(SSR<span class="sc">/</span>df))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
      SSR    df   SER
    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 144315.   418  18.6</code></pre>
</div>
</div>
<div class="fragment">
<p>In large samples (where <span class="math inline">\(n-2 \approx n)\)</span>, SER <span class="math inline">\(\rightarrow\)</span> standard deviation of the residuals</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>school_reg <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>  <span class="fu">augment</span>() <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="fu">summarize</span>(<span class="at">sd_resid =</span> <span class="fu">sd</span>(.resid))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  sd_resid
     &lt;dbl&gt;
1     18.6</code></pre>
</div>
</div>
</div>
</section>
<section id="goodness-of-fit-looking-at-r-i" class="slide level2">
<h2>Goodness of Fit: Looking at R I</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><code>summary()</code> command in <code>Base R</code> gives:
<ul>
<li><code>Multiple R-squared</code></li>
<li><code>Residual standard error</code> (SER)
<ul>
<li>Calculated with a df of <span class="math inline">\(n-2\)</span></li>
</ul></li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>school_reg <span class="sc">%&gt;%</span> <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = testscr ~ str, data = ca_school)

Residuals:
    Min      1Q  Median      3Q     Max 
-47.727 -14.251   0.483  12.822  48.540 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 698.9330     9.4675  73.825  &lt; 2e-16 ***
str          -2.2798     0.4798  -4.751 2.78e-06 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 18.58 on 418 degrees of freedom
Multiple R-squared:  0.05124,   Adjusted R-squared:  0.04897 
F-statistic: 22.58 on 1 and 418 DF,  p-value: 2.783e-06</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="goodness-of-fit-looking-at-r-i-1" class="slide level2">
<h2>Goodness of Fit: Looking at R I</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><code>r.squared</code> is <code>0.05</code> <span class="math inline">\(\implies\)</span> about 5% of variation in <code>testscr</code> is explained by our model</li>
<li><code>sigma</code> (SER) is <code>18.6</code> <span class="math inline">\(\implies\)</span> average test score is about 18.6 points above/below our model’s prediction</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># using broom</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="fu">library</span>(broom)</span>
<span id="cb12-3"><a href="#cb12-3"></a>school_reg <span class="sc">%&gt;%</span> <span class="fu">glance</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 12
  r.squ…¹ adj.r…² sigma stati…³ p.value    df logLik   AIC   BIC devia…⁴ df.re…⁵
    &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;int&gt;
1  0.0512  0.0490  18.6    22.6 2.78e-6     1 -1822. 3650. 3663. 144315.     418
# … with 1 more variable: nobs &lt;int&gt;, and abbreviated variable names
#   ¹​r.squared, ²​adj.r.squared, ³​statistic, ⁴​deviance, ⁵​df.residual</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># extract it if you want with pull</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>school_r_sq <span class="ot">&lt;-</span> <span class="fu">glance</span>(school_reg) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(r.squared)</span>
<span id="cb14-3"><a href="#cb14-3"></a>school_r_sq</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.0512401</code></pre>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="the-sampling-distributions-of-the-ols-estimators" class="title-slide slide level1 center" data-background-color="#314f4f">
<h1>The Sampling Distributions of the OLS Estimators</h1>

</section>
<section id="recall-two-big-problems-with-data" class="slide level2">
<h2>Recall: Two Big Problems with Data</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>We want to use econometrics to <span class="hi">identify</span> causal relationships and make <span class="hi">inferences</span> about them</li>
</ul>
<ol type="1">
<li>Problem for <span class="hi">identification</span>: <span class="hi-purple">endogeneity</span>
<ul>
<li><span class="math inline">\(X\)</span> is <strong>exogenous</strong> if its variation is <em>unrelated</em> to other factors <span class="math inline">\((u)\)</span> that affect <span class="math inline">\(Y\)</span></li>
<li><span class="math inline">\(X\)</span> is <strong>endogenous</strong> if its variation is <em>related</em> to other factors <span class="math inline">\((u)\)</span> that affect <span class="math inline">\(Y\)</span></li>
</ul></li>
<li>Problem for <span class="hi">inference</span>: <span class="hi-purple">randomness</span>
<ul>
<li>Data is random due to <strong>natural sampling variation</strong></li>
<li>Taking one sample of a population will yield slightly different information than another sample of the same population</li>
</ul></li>
</ol>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/causality.jpg" width="750"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/randomimage.jpg" width="750"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="distributions-of-the-ols-estimators" class="slide level2">
<h2>Distributions of the OLS Estimators</h2>
<ul>
<li><p>OLS estimators <span class="math inline">\((\hat{\beta_0}\)</span> and <span class="math inline">\(\hat{\beta_1})\)</span> are computed from a finite (specific) sample of data</p></li>
<li><p>Our OLS model contains <strong>2 sources of randomness</strong>:</p></li>
</ul>
<div class="fragment">
<ul>
<li><span class="hi-purple"><em>Modeled</em> randomness</span>: population <span class="math inline">\(u\)</span> includes all factors affecting <span class="math inline">\(Y\)</span> <em>other</em> than <span class="math inline">\(X\)</span>
<ul>
<li>different samples will have different values of those other factors <span class="math inline">\((u_i)\)</span></li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span class="hi-purple"><em>Sampling</em> randomness</span>: different samples will generate different OLS estimators
<ul>
<li>Thus, <span class="math inline">\(\hat{\beta_0}, \hat{\beta_1}\)</span> are <em>also</em> <strong>random variables</strong>, with their own <span class="hi">sampling distribution</span></li>
</ul></li>
</ul>
</div>
</section>
<section id="inferential-statistics-and-sampling-distributions" class="slide level2">
<h2>Inferential Statistics and Sampling Distributions</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p><span class="hi">Inferential statistics</span> analyzes a <strong>sample</strong> to make inferences about a much larger (unobservable) <strong>population</strong></p></li>
<li><p><span class="hi-purple">Population</span>: all possible individuals that match some well-defined criterion of interest</p>
<ul>
<li>Characteristics about (relationships between variables describing) populations are called <span class="hi-turquoise">“parameters”</span></li>
</ul></li>
<li><p><span class="hi-purple">Sample</span>: some portion of the population of interest to <em>represent the whole</em></p>
<ul>
<li>Samples examine part of a population to generate .hi-turquoise[statistics] used to <span class="hi">estimate</span> population <span class="hi-turquoise">parameters</span></li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/citymodel.jpg"></p>
</div>
</div>
</section>
<section id="sampling-basics" class="slide level2">
<h2>Sampling Basics</h2>
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Example</strong></p>
</div>
<div class="callout-content">
<p>Suppose you randomly select 100 people and ask how many hours they spend on the internet each day. You take the mean of your sample, and it comes out to 5.4 hours.</p>
</div>
</div>
</div>
<div class="fragment">
<ul>
<li>5.4 hours is a <span class="hi-purple">sample statistic</span> describing the sample; we are more interested in the corresponding <span class="hi-turquoise">parameter</span> of the relevant population (e.g.&nbsp;all Americans)</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>If we take another sample of 100 people, would we get the same number?</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><p><em>Roughly</em>, but probably not exactly</p></li>
<li><p><span class="hi">Sampling variability</span> describes the effect of a statistic varying somewhat from sample to sample</p>
<ul>
<li>This is <em>normal</em>, not the result of any error or bias!</li>
</ul></li>
</ul>
</div>
</section>
<section id="i.i.d.-samples" class="slide level2">
<h2>i.i.d. Samples</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>If we collect many samples, and each sample is randomly drawn from the population (and then replaced), then the distribution of samples is said to be <span class="hi-purple">independently and identically distributed (i.i.d.)</span></p></li>
<li><p>Each sample is <strong>independent</strong> of each other sample (due to replacement)</p></li>
<li><p>Each sample comes from the <strong>identical</strong> underlying population distribution</p></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/sampling.jpg"></p>
</div>
</div>
</section>
<section id="the-sampling-distribution-of-ols-estimators" class="slide level2">
<h2>The Sampling Distribution of OLS Estimators</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Calculating OLS estimators for a sample makes the OLS estimators <em>themselves</em> random variables:</p></li>
<li><p>Draw of <span class="math inline">\(i\)</span> is random <span class="math inline">\(\implies\)</span> value of each <span class="math inline">\((X_i,Y_i)\)</span> is random <span class="math inline">\(\implies\)</span> <span class="math inline">\(\hat{\beta_0},\hat{\beta_1}\)</span> are random</p></li>
<li><p>Taking different samples will create different values of <span class="math inline">\(\hat{\beta_0},\hat{\beta_1}\)</span></p></li>
<li><p>Therefore, <span class="math inline">\(\hat{\beta_0},\hat{\beta_1}\)</span> each have a <span class="hi">sampling distribution</span> across different samples</p></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/randomimage.jpg"></p>
</div>
</div>
</section>
<section id="the-central-limit-theorem" class="slide level2">
<h2>The Central Limit Theorem</h2>
<div class="callout callout-note callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>The Central Limit Theorem</strong></p>
</div>
<div class="callout-content">
<p>If we collect samples of size <span class="math inline">\(n\)</span> from the same population and generate a sample statistic (e.g.&nbsp;OLS estimator), then with large enough <span class="math inline">\(n\)</span>, the distribution of the sample statistic is approximately normal if:</p>
<ol type="1">
<li><span class="math inline">\(n \geq 30\)</span></li>
<li>Samples come from a <em>known</em> normal distribution <span class="math inline">\(\sim N(\mu,\sigma)\)</span></li>
</ol>
</div>
</div>
</div>
<div class="fragment">
<ul>
<li><p>If neither of these are true, we have other methods (coming shortly!)</p></li>
<li><p>One of the most fundamental principles in all of statistics</p></li>
<li><p>Allows for virtually all testing of statistical hypotheses <span class="math inline">\(\rightarrow\)</span> estimating probabilities of values on a normal distribution</p></li>
</ul>
</div>
</section>
<section id="the-sampling-distribution-of-hatbeta_1-i" class="slide level2">
<h2>The Sampling Distribution of <span class="math inline">\(\hat{\beta_1}\)</span> I</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>The CLT allows us to approximate the sampling distributions of <span class="math inline">\(\hat{\beta_0}\)</span> and <span class="math inline">\(\hat{\beta_1}\)</span> as normal</p></li>
<li><p>We care about <span class="math inline">\(\hat{\beta_1}\)</span> (slope) since it has economic meaning, rarely about <span class="math inline">\(\hat{\beta_0}\)</span> (intercept)</p></li>
</ul>
<p><span class="math display">\[\hat{\beta_1} \sim N(E[\hat{\beta_1}], \sigma_{\hat{\beta_1}})\]</span></p>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="2.4-slides_files/figure-revealjs/unnamed-chunk-14-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="the-sampling-distribution-of-hatbeta_1-ii" class="slide level2">
<h2>The Sampling Distribution of <span class="math inline">\(\hat{\beta_1}\)</span> II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><span class="math display">\[\hat{\beta_1} \sim N(E[\hat{\beta_1}], \sigma_{\hat{\beta_1}})\]</span></p>
<ul>
<li>We want to know:</li>
</ul>
<ol type="1">
<li><p><span class="math inline">\(\mathbb{E}[\hat{\beta_1}]\)</span>; what is the <span class="hi-purple">center</span> of the distribution? (today)</p></li>
<li><p><span class="math inline">\(\sigma_{\hat{\beta_1}}\)</span>; how <span class="hi-purple">precise</span> is our estimate? (next class)</p></li>
</ol>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="2.4-slides_files/figure-revealjs/unnamed-chunk-15-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="bias-and-exogeneity" class="title-slide slide level1 center" data-background-color="#314f4f">
<h1>Bias and Exogeneity</h1>

</section>
<section id="assumptions-about-errors-i" class="slide level2">
<h2>Assumptions about Errors I</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>In order to talk about <span class="math inline">\(E[\hat{\beta_1}]\)</span>, we need to talk about population <span class="math inline">\(u\)</span></p></li>
<li><p>Recall: <span class="math inline">\(u\)</span> is a random variable, and we can never measure the error term</p></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/error.png"></p>
</div>
</div>
</section>
<section id="assumptions-about-errors-ii" class="slide level2 smaller">
<h2>Assumptions about Errors II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>We make <span class="hi">4 critical <strong>assumptions</strong> about <span class="math inline">\(u\)</span></span>:</li>
</ul>
<ol type="1">
<li>The expected value of the errors is 0</li>
</ol>
<p><span class="math display">\[E[u]=0\]</span></p>
</div><div class="column" style="width:50%;">
<p><img data-src="images/error.png"></p>
</div>
</div>
</section>
<section id="assumptions-about-errors-ii-1" class="slide level2 smaller">
<h2>Assumptions about Errors II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>We make <span class="hi">4 critical <strong>assumptions</strong> about <span class="math inline">\(u\)</span></span>:</li>
</ul>
<ol type="1">
<li>The expected value of the errors is 0</li>
</ol>
<p><span class="math display">\[E[u]=0\]</span></p>
<ol start="2" type="1">
<li>The variance of the errors over <span class="math inline">\(X\)</span> is constant:</li>
</ol>
<p><span class="math display">\[var(u|X)=\sigma^2_{u}\]</span></p>
</div><div class="column" style="width:50%;">
<p><img data-src="images/error.png"></p>
</div>
</div>
</section>
<section id="assumptions-about-errors-ii-2" class="slide level2 smaller">
<h2>Assumptions about Errors II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>We make <span class="hi">4 critical <strong>assumptions</strong> about <span class="math inline">\(u\)</span></span>:</li>
</ul>
<ol type="1">
<li>The expected value of the errors is 0</li>
</ol>
<p><span class="math display">\[E[u]=0\]</span></p>
<ol start="2" type="1">
<li>The variance of the errors over <span class="math inline">\(X\)</span> is constant:</li>
</ol>
<p><span class="math display">\[var(u|X)=\sigma^2_{u}\]</span></p>
<ol start="3" type="1">
<li>Errors are not correlated across observations:</li>
</ol>
<p><span class="math display">\[cor(u_i,u_j)=0 \quad \forall i \neq j\]</span></p>
</div><div class="column" style="width:50%;">
<p><img data-src="images/error.png"></p>
</div>
</div>
</section>
<section id="assumptions-about-errors-ii-3" class="slide level2 smaller">
<h2>Assumptions about Errors II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>We make <span class="hi">4 critical <strong>assumptions</strong> about <span class="math inline">\(u\)</span></span>:</li>
</ul>
<ol type="1">
<li>The expected value of the errors is 0</li>
</ol>
<p><span class="math display">\[E[u]=0\]</span></p>
<ol start="2" type="1">
<li>The variance of the errors over <span class="math inline">\(X\)</span> is constant:</li>
</ol>
<p><span class="math display">\[var(u|X)=\sigma^2_{u}\]</span></p>
<ol start="3" type="1">
<li>Errors are not correlated across observations:</li>
</ol>
<p><span class="math display">\[cor(u_i,u_j)=0 \quad \forall i \neq j\]</span></p>
<ol start="4" type="1">
<li>There is no correlation between <span class="math inline">\(X\)</span> and the error term:</li>
</ol>
<p><span class="math display">\[cor(X, u)=0 \text{ or } E[u|X]=0\]</span></p>
</div><div class="column" style="width:50%;">
<p><img data-src="images/error.png"></p>
</div>
</div>
</section>
<section id="assumptions-about-errors-iii" class="slide level2">
<h2>Assumptions about Errors III</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ol type="1">
<li>The expected value of the errors is 0</li>
</ol>
<p><span class="math display">\[E[u]=0\]</span></p>
<ol start="2" type="1">
<li>The variance of the errors over <span class="math inline">\(X\)</span> is constant:</li>
</ol>
<p><span class="math display">\[var(u|X)=\sigma^2_{u}\]</span></p>
<ul>
<li>The first two assumptions <span class="math inline">\(\implies\)</span> errors are <strong>i.i.d.</strong>, drawn from the same distribution with mean 0 and variance <span class="math inline">\(\sigma^2_{u}\)</span></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="2.4-slides_files/figure-revealjs/unnamed-chunk-16-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="assumptions-about-errors-homoskedasticity" class="slide level2">
<h2>Assumptions about Errors: Homoskedasticity</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ol start="2" type="1">
<li>The variance of the errors over <span class="math inline">\(X\)</span> is constant:</li>
</ol>
<p><span class="math display">\[var(u|X)=\sigma^2_{u}\]</span></p>
<ul>
<li><p>Assumption 2 implies that errors are <span class="hi">“homoskedastic”</span>: they have the same variance across <span class="math inline">\(X\)</span></p></li>
<li><p>Often this assumption is violated: errors may be <span class="hi-purple">“heteroskedastic”</span>: they do not have the same variance across <span class="math inline">\(X\)</span></p></li>
<li><p>This <em>is</em> a problem for <strong>inference</strong>, but we have a simple fix for this (next class)</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="2.4-slides_files/figure-revealjs/unnamed-chunk-17-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="assumption-3-no-serial-correlation" class="slide level2">
<h2>Assumption 3: No Serial Correlation</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Errors are not correlated across observations:</li>
</ul>
<p><span class="math display">\[cor(u_i,u_j)=0 \quad \forall i \neq j\]</span></p>
<ul>
<li><p>For simple cross-sectional data, this is rarely an issue</p></li>
<li><p>Time-series &amp; panel data nearly always contain <span class="hi">serial correlation</span> or <span class="hi">autocorrelation</span> between errors</p></li>
<li><p>e.g.&nbsp;“this week’s sales look a lot like last week’s sales, which look like…etc”</p></li>
<li><p>There are fixes to deal with autocorrelation (coming much later)</p></li>
</ul>
</div><div class="column" style="width:50%;">

</div>
</div>
</section>
<section id="assumption-4-the-zero-conditional-mean-assumption" class="slide level2">
<h2>Assumption 4: The Zero Conditional Mean Assumption</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>No correlation between <span class="math inline">\(X\)</span> and the error term:</li>
</ul>
<p><span class="math display">\[cor(X, u)=0\]</span></p>
<ul>
<li><p><span class="hi-purple">This is the absolute killer assumption, because it assumes <strong>exogeneity</strong></span></p></li>
<li><p>Often called the <span class="hi-purple">Zero Conditional Mean</span> assumption:</p></li>
</ul>
<p><span class="math display">\[E[u|X]=0\]</span></p>
<blockquote>
<p>“Does knowing <span class="math inline">\(X\)</span> give me any useful information about <span class="math inline">\(u\)</span>?”</p>
</blockquote>
<ul>
<li>If yes: model is <strong>endogenous</strong>, <strong>biased</strong> and <strong>not-causal</strong>!</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/error.png"></p>
</div>
</div>
</section>
<section id="exogeneity-and-unbiasedness" class="slide level2">
<h2>Exogeneity and Unbiasedness</h2>
<ul>
<li><span class="math inline">\(\hat{\beta_1}\)</span> is <span class="hi-purple">unbiased</span> iff there is no systematic difference, on average, between sample values of <span class="math inline">\(\hat{\beta_1}\)</span> and <span class="hi-turquoise">true population parameter</span> <span class="math inline">\(\beta_1\)</span>, i.e.</li>
</ul>
<p><span class="math display">\[E[\hat{\beta_1}]=\beta_1\]</span></p>
<div class="fragment">
<ul>
<li><p>Does <em>not</em> mean any sample gives us <span class="math inline">\(\hat{\beta_1}=\beta_1\)</span>, only the <span class="hi-purple">estimation procedure</span> will, <em>on average</em>, yield the correct value</p></li>
<li><p>Random errors above and below the true value cancel out (so that on average, <span class="math inline">\(E[\hat{u}|X]=0)\)</span></p></li>
</ul>
</div>
</section>
<section id="sidenote-statistical-estimators-i" class="slide level2">
<h2>Sidenote: Statistical Estimators I</h2>
<ul>
<li>In statistics, an <span class="hi">estimator</span> is a rule for calculating a statistic (about a population parameter)</li>
</ul>
<div class="fragment">
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Example</strong></p>
</div>
<div class="callout-content">
<p>We want to estimate the average height (H) of U.S. adults (population) and have a random sample of 100 adults.</p>
</div>
</div>
</div>
</div>
<div class="fragment">
<ul>
<li><p>Calculate the mean height of our sample <span class="math inline">\((\bar{H})\)</span> to estimate the true mean height of the population <span class="math inline">\((\mu_H)\)</span></p></li>
<li><p><span class="math inline">\(\bar{H}\)</span> is an <strong>estimator</strong> of <span class="math inline">\(\mu_H\)</span></p></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>There are many estimators we <em>could</em> use to estimate <span class="math inline">\(\mu_H\)</span>
<ul>
<li>How about using the first value in our sample: <span class="math inline">\(H_1\)</span> ?</li>
</ul></li>
</ul>
</div>
</section>
<section id="sidenote-statistical-estimators-ii" class="slide level2">
<h2>Sidenote: Statistical Estimators II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>What makes one estimator (e.g.&nbsp;<span class="math inline">\(\bar{H}\)</span>) better than another (e.g.&nbsp;<span class="math inline">\(H_1\)</span>)?<sup>1</sup></li>
</ul>
<ol type="1">
<li><p><span class="hi-purple">Unbiasedness</span>: does the estimator give us the true parameter <em>on average</em>?</p></li>
<li><p><span class="hi-purple">Efficiency</span>: an estimator with a smaller variance is better</p></li>
</ol>
</div><div class="column" style="width:50%;">
<p><img data-src="images/biasvariability.png"></p>
</div>
</div>
<aside><ol class="aside-footnotes"><li id="fn6" role="doc-endnote"><p>Technically, we also care about <span class="hi-purple">consistency</span>: minimizing uncertainty about the correct value. The Law of Large Numbers, similar to CLT, permits this. We don’t need to get too advanced about probability in this class.</p></li></ol></aside></section>
<section id="exogeneity-and-unbiasedness-ii" class="slide level2">
<h2>Exogeneity and Unbiasedness II</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p><span class="math inline">\(\mathbf{\hat{\beta_1}}\)</span> is the <span class="hi">Best Linear Unbiased Estimator (BLUE)</span> estimator of <span class="math inline">\(\mathbf{\beta_1}\)</span> <strong>when <span class="math inline">\(X\)</span> is exogenous</strong><sup>1</sup></p></li>
<li><p>No systematic difference, on average, between sample values of <span class="math inline">\(\hat{\beta_1}\)</span> and the true population <span class="math inline">\(\beta_1\)</span>:</p></li>
</ul>
<p><span class="math display">\[E[\hat{\beta_1}]=\beta_1\]</span></p>
<ul>
<li>Does <em>not</em> mean that each sample gives us <span class="math inline">\(\hat{\beta_1}=\beta_1\)</span>, only the estimation <strong>procedure</strong> will, <strong>on average</strong>, yield the correct value</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/biasvariability.png"></p>
</div>
</div>
<aside><ol class="aside-footnotes"><li id="fn7" role="doc-endnote"><p>The proof for this is known as the famous <a href="https://en.wikipedia.org/wiki/Gauss%E2%80%93Markov_theorem">Gauss-Markov Theorem</a>. See today’s <a href="/resources/appendices/2.4-appendix">appendix</a> for a simplified proof.</p></li></ol></aside></section>
<section id="exogeneity-and-unbiasedness-iii" class="slide level2">
<h2>Exogeneity and Unbiasedness III</h2>
<ul>
<li>Recall, an <span class="hi">exogenous</span> variable <span class="math inline">\((X)\)</span> is unrelated to other factors affecting <span class="math inline">\(Y\)</span>, i.e.:</li>
</ul>
<p><span class="math display">\[cor(X,u)=0\]</span></p>
<div class="fragment">
<ul>
<li>Again, this is called the <strong>Zero Conditional Mean Assumption</strong></li>
</ul>
<p><span class="math display">\[E(u|X)=0\]</span></p>
</div>
<div class="fragment">
<ul>
<li><p>For any known value of <span class="math inline">\(X\)</span>, the expected value of <span class="math inline">\(u\)</span> is 0</p></li>
<li><p>Knowing the value of <span class="math inline">\(X\)</span> must tell us <em>nothing</em> about the value of <span class="math inline">\(u\)</span> (anything else relevant to <span class="math inline">\(Y\)</span> other than <span class="math inline">\(X\)</span>)</p></li>
<li><p>We can then confidently assert causation: <span class="math inline">\(X \rightarrow Y\)</span></p></li>
</ul>
</div>
</section>
<section id="endogeneity-and-bias" class="slide level2">
<h2>Endogeneity and Bias</h2>
<ul>
<li>Nearly all independent variables are <span class="hi">endogenous</span>, they <strong>are</strong> related to the error term <span class="math inline">\(u\)</span></li>
</ul>
<p><span class="math display">\[cor(X,u)\neq 0\]</span></p>
<div class="fragment">
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Example</strong></p>
</div>
<div class="callout-content">
<p>Suppose we estimate the following relationship:</p>
<p><span class="math display">\[\text{Violent crimes}_t=\beta_0+\beta_1\text{Ice cream sales}_t+u_t\]</span></p>
</div>
</div>
</div>
<ul>
<li><p>We find <span class="math inline">\(\hat{\beta_1}&gt;0\)</span></p></li>
<li><p>Does this mean Ice cream sales <span class="math inline">\(\rightarrow\)</span> Violent crimes?</p></li>
</ul>
</div>
</section>
<section id="endogeneity-and-bias-takeaways" class="slide level2">
<h2>Endogeneity and Bias: Takeaways</h2>
<ul>
<li>The true expected value of <span class="math inline">\(\hat{\beta_1}\)</span> is actually:<sup>1</sup></li>
</ul>
<p><span class="math display">\[E[\hat{\beta_1}]=\beta_1+cor(X,u)\frac{\sigma_u}{\sigma_X}\]</span></p>
<div class="fragment">
<ol type="1">
<li>If <span class="math inline">\(X\)</span> is exogenous: <span class="math inline">\(cor(X,u)=0\)</span>, we’re just left with <span class="math inline">\(\beta_1\)</span></li>
</ol>
</div>
<div class="fragment">
<ol start="2" type="1">
<li>The larger <span class="math inline">\(cor(X,u)\)</span> is, larger <span class="hi-purple">bias</span>: <span class="math inline">\(\left(E[\hat{\beta_1}]-\beta_1 \right)\)</span></li>
</ol>
</div>
<div class="fragment">
<ol start="3" type="1">
<li>We can <span class="hi-turquoise">“sign”</span> the direction of the bias based on <span class="math inline">\(cor(X,u)\)</span></li>
</ol>
<ul>
<li><span class="hi-turquoise">Positive</span> <span class="math inline">\(cor(X,u)\)</span> overestimates the true <span class="math inline">\(\beta_1\)</span> <span class="math inline">\((\hat{\beta_1}\)</span> is too high)</li>
<li><span class="hi-turquoise">Negative</span> <span class="math inline">\(cor(X,u)\)</span> underestimates the true <span class="math inline">\(\beta_1\)</span> <span class="math inline">\((\hat{\beta_1}\)</span> is too low)</li>
</ul>
</div>
<aside><ol class="aside-footnotes"><li id="fn8" role="doc-endnote"><p>See today’s <a href="/resources/appendices/2.4-appendix">appendix</a> for proof.</p></li></ol></aside></section>
<section id="endogeneity-and-bias-example-i" class="slide level2">
<h2>Endogeneity and Bias: Example I</h2>
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Example</strong></p>
</div>
<div class="callout-content">
<p><span class="math display">\[wages_i=\beta_0+\beta_1 education_i+u\]</span></p>
</div>
</div>
</div>
<div class="fragment">
<ul>
<li><p>Is this an accurate reflection of <span class="math inline">\(education \rightarrow wages\)</span>?</p></li>
<li><p>Does <span class="math inline">\(E[u|education]=0\)</span>?</p></li>
<li><p>What would <span class="math inline">\(E[u|education]&gt;0\)</span> mean?</p></li>
</ul>
</div>
</section>
<section id="endogeneity-and-bias-example-ii" class="slide level2">
<h2>Endogeneity and Bias: Example II</h2>
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Example</strong></p>
</div>
<div class="callout-content">
<p><span class="math display">\[\text{per capita cigarette consumption}=\beta_0+\beta_1 \text{State cig tax rate}+u\]</span></p>
</div>
</div>
</div>
<div class="fragment">
<ul>
<li><p>Is this an accurate reflection of <span class="math inline">\(taxes \rightarrow consumption\)</span>?</p></li>
<li><p>Does <span class="math inline">\(E[u|tax]=0\)</span>?</p></li>
<li><p>What would <span class="math inline">\(E[u|tax]&gt;0\)</span> mean?</p></li>
</ul>
<p><img src="../images/metrics_hex.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://metricsF22.classes.ryansafner.com">ECON 480 — Econometrics</a></p>
</div>
</div>
</section></section>

    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="2.4-slides_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="2.4-slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="2.4-slides_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="2.4-slides_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="2.4-slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="2.4-slides_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="2.4-slides_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="2.4-slides_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="2.4-slides_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="2.4-slides_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="2.4-slides_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          let href = ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>